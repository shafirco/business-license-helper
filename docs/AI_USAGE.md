# תיעוד שימוש ב-AI במערכת הערכת רישוי עסקים

## 1. כלי פיתוח AI

במהלך פיתוח מערכת זו, נעשה שימוש אינטנסיבי בכלי ה-AI **Cursor AI**. Cursor AI שימש כעוזר תכנות המסייע במגוון משימות:

*   **כתיבת קוד:** יצירת פונקציות, קומפוננטות ותיקוני באגים.
*   **הבנת קוד קיים:** ניתוח קטעי קוד מורכבים והסבר הלוגיקה שלהם.
*   **רפקטורינג ושיפורים:** זיהוי אזורים לשיפור בקוד והצעת שינויים.
*   **תיעוד:** סיוע ביצירת מבנה התיעוד וכתיבת תכנים עבורו.
*   **פתרון בעיות:** ניתוח שגיאות (כמו בעיות CORS, Rate Limit, שגיאות JSON מה-AI) והצעת פתרונות.
*   **בדיקות:** סיוע בהבנה ובהצעה של פקודות בדיקה (כמו בקשות `curl`).

השימוש ב-Cursor AI איפשר תהליך פיתוח מהיר ויעיל יותר, תוך התמודדות עם אתגרים טכניים מורכבים בצורה ממוקדת.

## 2. מודל השפה המרכזי

המערכת משתמשת במודל השפה **OpenAI GPT-4** ליצירת הדוחות החכמים.

### סיבת הבחירה ב-GPT-4:
*   **יכולות הבנה ויצירה מתקדמות:** GPT-4 מצטיין בהבנת קונטקסט מורכב וביצירת טקסט קוהרנטי, מפורט ומובנה, מה שקריטי לתרגום דרישות רגולטוריות מורכבות לשפה פשוטה וברורה.
*   **ביצועים:** הוא מספק תוצאות איכותיות ואמינות עבור משימות סיכום, חילוץ מידע ויצירת תוכן מותאם אישית.
*   **זמינות API:** ה-API של OpenAI קל לשימוש ומשולב היטב עם סביבות פיתוח נפוצות.

## 3. Prompts שנשלחו למודל ה-AI

הפרומפטים מוגדרים בפונקציית `createPrompt` בקובץ `backend/logic/services/aiService.js`. הם מורכבים מפרומפט מערכת ופרומפט משתמש דינמי.

### פרומפט מערכת (System Prompt)
```
אתה מומחה ברישוי עסקים בישראל, במיוחד בתחום המזון. תפקידך ליצור דוח מפורט ומקצועי המפרט את הדרישות וההמלצות הרלוונטיות לעסק.
```

### פרומפט משתמש (User Prompt - דינמי)
פרומפט המשתמש בנוי באופן דינמי על בסיס פרטי העסק וסעיפי הרגולציה הרלוונטיים שזוהו על ידי מנוע ההתאמה. הוא מכיל את המידע הבא:

*   **פרטי העסק:** סוג, גודל, מקומות ישיבה, שימוש בגז, משלוחים, אלכוהול, טיפול בבשר/חלב/דגים/ירקות, צוות מיומן, תעודות בריאות.
*   **מידע מסעיפי תקנות רלוונטיים:** עבור כל סעיף רלוונטי, נכללים ה-ID, הכותרת, ומערך הדרישות הספציפיות בפורמט גולמי (JSON stringified) כפי שהן מופיעות בקובץ `regulations.json`.

**מבנה הפרומפט (דוגמה מקוצרת):**

```
    אתה מומחה לרישוי עסקים בישראל, עם דגש על תקנות בתחום המזון. 
    קיבלת פרטי עסק וכן מידע מצומצם מסעיפים רלוונטיים מתוך תקנות רישוי עסקים.

    פרטי העסק:
    סוג העסק: [businessType]
    גודל העסק: [businessSize]
    ...

    מידע מסעיפי תקנות רלוונטיים:

    ### סעיף [section.id]: [section.title]
    דרישות ספציפיות בסעיף זה (פורמט גולמי): [JSON.stringify(section.requirements)]

    ...

    מתוך המידע על העסק והדרישות הגולמיות בסעיפים הרלוונטיים, אנא צור דוח מותאם אישית הכולל:
    1. סיכום כללי של הדרישות הרלוונטיות ביותר לעסק זה, תוך התייחסות ספציפית לכל דרישה כפי שמופיעה בפורמט הגולמי.
    2. דרישות דחופות שצריך לטפל בהן מיד (יש לזהות אותן מתוך הטקסט הגולמי, לעיתים הן מסומנות כקריטיות או מופיעות בתחילת סעיפים חשובים).
    3. המלצות ספציפיות לעסק כיצד לעמוד בדרישות שהוצגו, תוך תרגום ה"שפה משפטית" לשפה עסקית מובנת.
    4. צעדים מעשיים ליישום הדרישות העיקריות.
    5. הערות חשובות ותשומת לב מיוחדת לדברים שעלו מהתקנות ורלוונטיים לעסק הספציפי.

    אנא ספק את התשובה **אך ורק** בפורמט JSON, ללא שום טקסט מקדים או מסכם. התחל את התשובה **ישירות** עם התו `{`. ודא שה-JSON תקין ומלא:
    {
      "summary": "סיכום כללי",
      "urgentRequirements": ["רשימת דרישות דחופות"],
      "recommendations": ["רשימת המלצות"],
      "actionSteps": ["רשימת צעדים מעשיים"],
      "importantNotes": ["הערות חשובות"]
    }
``` 